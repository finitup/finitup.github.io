<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Market Predictions - Finitup</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="./styles.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="./assets/favicon.ico" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-white font-inter text-gray-800">
  <div id="root"></div>
  
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./components/Navbar.js" type="text/babel"></script>
  <script src="./components/Footer.js" type="text/babel"></script>
  <script src="./components/Button.js" type="text/babel"></script>
  <script src="./components/StrategyCard.js" type="text/babel"></script>
  <script src="./components/ConfidenceBar.js" type="text/babel"></script>
  
  <script type="text/babel">
    const { useState, useEffect, useRef } = React;
    
    function PredictionsPage() {
      const [predictions, setPredictions] = useState([]);
      const [isLoading, setIsLoading] = useState(true);
      const predictionChartRef = useRef(null);
      const confidenceChartRef = useRef(null);
      
      useEffect(() => {
        // Simulate loading static JSON data
        setTimeout(() => {
          // This would normally be a fetch from a static JSON file
          const staticPredictions = [
            {
              ticker: "AAPL",
              currentPrice: 182.63,
              predictedPrice: 198.45,
              percentChange: 8.66,
              timeframe: "3 months",
              confidence: 87,
              recommendation: "Buy",
              lastUpdated: "2023-06-01"
            },
            {
              ticker: "MSFT",
              currentPrice: 332.58,
              predictedPrice: 365.75,
              percentChange: 9.97,
              timeframe: "3 months",
              confidence: 92,
              recommendation: "Strong Buy",
              lastUpdated: "2023-06-01"
            },
            {
              ticker: "GOOGL",
              currentPrice: 125.23,
              predictedPrice: 142.80,
              percentChange: 14.03,
              timeframe: "3 months",
              confidence: 85,
              recommendation: "Buy",
              lastUpdated: "2023-06-01"
            },
            {
              ticker: "AMZN",
              currentPrice: 124.25,
              predictedPrice: 145.30,
              percentChange: 16.94,
              timeframe: "3 months",
              confidence: 83,
              recommendation: "Buy",
              lastUpdated: "2023-06-01"
            },
            {
              ticker: "NVDA",
              currentPrice: 393.27,
              predictedPrice: 450.15,
              percentChange: 14.46,
              timeframe: "3 months",
              confidence: 89,
              recommendation: "Strong Buy",
              lastUpdated: "2023-06-01"
            },
            {
              ticker: "TSLA",
              currentPrice: 193.17,
              predictedPrice: 210.50,
              percentChange: 8.97,
              timeframe: "3 months",
              confidence: 72,
              recommendation: "Hold",
              lastUpdated: "2023-06-01"
            },
            {
              ticker: "META",
              currentPrice: 287.05,
              predictedPrice: 325.40,
              percentChange: 13.36,
              timeframe: "3 months",
              confidence: 81,
              recommendation: "Buy",
              lastUpdated: "2023-06-01"
            },
            {
              ticker: "NFLX",
              currentPrice: 418.92,
              predictedPrice: 445.25,
              percentChange: 6.29,
              timeframe: "3 months",
              confidence: 78,
              recommendation: "Hold",
              lastUpdated: "2023-06-01"
            }
          ];
          
          setPredictions(staticPredictions);
          setIsLoading(false);
        }, 500);
      }, []);
      
      useEffect(() => {
        if (!isLoading && predictions.length > 0 && predictionChartRef.current && confidenceChartRef.current) {
          // Prediction Chart
          const predictionCtx = predictionChartRef.current.getContext('2d');
          new Chart(predictionCtx, {
            type: 'bar',
            data: {
              labels: predictions.map(p => p.ticker),
              datasets: [{
                label: 'Current Price ($)',
                data: predictions.map(p => p.currentPrice),
                backgroundColor: 'rgba(79, 70, 229, 0.6)',
                borderColor: 'rgba(79, 70, 229, 1)',
                borderWidth: 1
              }, {
                label: 'Predicted Price ($)',
                data: predictions.map(p => p.predictedPrice),
                backgroundColor: 'rgba(16, 185, 129, 0.6)',
                borderColor: 'rgba(16, 185, 129, 1)',
                borderWidth: 1
              }]
            },
            options: {
              responsive: true,
              plugins: {
                legend: {
                  position: 'top',
                },
                title: {
                  display: true,
                  text: 'Current vs Predicted Prices'
                }
              },
              scales: {
                y: {
                  beginAtZero: false,
                  title: {
                    display: true,
                    text: 'Price ($)'
                  }
                }
              }
            }
          });
          
          // Confidence Chart
          const confidenceCtx = confidenceChartRef.current.getContext('2d');
          new Chart(confidenceCtx, {
            type: 'radar',
            data: {
              labels: predictions.map(p => p.ticker),
              datasets: [{
                label: 'Prediction Confidence (%)',
                data: predictions.map(p => p.confidence),
                backgroundColor: 'rgba(79, 70, 229, 0.2)',
                borderColor: 'rgba(79, 70, 229, 1)',
                borderWidth: 2,
                pointBackgroundColor: 'rgba(79, 70, 229, 1)',
                pointRadius: 4
              }]
            },
            options: {
              responsive: true,
              plugins: {
                legend: {
                  position: 'top',
                },
                title: {
                  display: true,
                  text: 'AI Prediction Confidence'
                }
              },
              scales: {
                r: {
                  min: 50,
                  max: 100,
                  ticks: {
                    stepSize: 10
                  }
                }
              }
            }
          });
        }
      }, [isLoading, predictions]);
      
      // Function to determine badge color based on recommendation
      const getRecommendationColor = (recommendation) => {
        switch(recommendation) {
          case 'Strong Buy':
            return 'bg-green-100 text-green-800';
          case 'Buy':
            return 'bg-emerald-100 text-emerald-800';
          case 'Hold':
            return 'bg-yellow-100 text-yellow-800';
          case 'Sell':
            return 'bg-orange-100 text-orange-800';
          case 'Strong Sell':
            return 'bg-red-100 text-red-800';
          default:
            return 'bg-gray-100 text-gray-800';
        }
      };
      
      // Function to determine text color based on percent change
      const getPercentChangeColor = (percentChange) => {
        return percentChange >= 0 ? 'text-green-600' : 'text-red-600';
      };
      
      return (
        <div className="min-h-screen flex flex-col">
          <Navbar />
          
          <main className="flex-grow">
            {/* Header */}
            <section className="bg-gradient-to-r from-indigo-50 to-blue-50 py-12">
              <div className="container mx-auto px-4 md:px-8">
                <h1 className="text-3xl md:text-4xl font-bold text-indigo-900 mb-4">
                  Market Predictions
                </h1>
                <p className="text-lg text-gray-700 max-w-3xl">
                  Our AI system generates stock price predictions based on historical data, 
                  market trends, and sentiment analysis. Each prediction includes a confidence 
                  score indicating the AI's certainty level.
                </p>
              </div>
            </section>
            
            {/* Charts Section */}
            <section className="py-12">
              <div className="container mx-auto px-4 md:px-8">
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                  <div className="bg-white p-6 rounded-lg shadow-md">
                    <h2 className="text-xl font-semibold mb-4">Price Predictions</h2>
                    {isLoading ? (
                      <div className="flex justify-center items-center h-64">
                        <div className="animate-pulse text-indigo-600">Loading chart data...</div>
                      </div>
                    ) : (
                      <div className="h-64">
                        <canvas ref={predictionChartRef}></canvas>
                      </div>
                    )}
                  </div>
                  
                  <div className="bg-white p-6 rounded-lg shadow-md">
                    <h2 className="text-xl font-semibold mb-4">Prediction Confidence</h2>
                    {isLoading ? (
                      <div className="flex justify-center items-center h-64">
                        <div className="animate-pulse text-indigo-600">Loading chart data...</div>
                      </div>
                    ) : (
                      <div className="h-64">
                        <canvas ref={confidenceChartRef}></canvas>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            </section>
            
            {/* Predictions Table */}
            <section className="py-8 bg-gray-50">
              <div className="container mx-auto px-4 md:px-8">
                <h2 className="text-2xl font-bold mb-8">Detailed Predictions</h2>
                
                {isLoading ? (
                  <div className="flex justify-center items-center h-32">
                    <div className="animate-pulse text-indigo-600">Loading predictions...</div>
                  </div>
                ) : (
                  <div className="overflow-x-auto">
                    <table className="min-w-full bg-white rounded-lg shadow-md">
                      <thead>
                        <tr className="bg-indigo-50 text-indigo-900">
                          <th className="py-3 px-4 text-left">Ticker</th>
                          <th className="py-3 px-4 text-left">Current Price</th>
                          <th className="py-3 px-4 text-left">Predicted Price</th>
                          <th className="py-3 px-4 text-left">Change</th>
                          <th className="py-3 px-4 text-left">Timeframe</th>
                          <th className="py-3 px-4 text-left">Confidence</th>
                          <th className="py-3 px-4 text-left">Recommendation</th>
                        </tr>
                      </thead>
                      <tbody className="divide-y divide-gray-200">
                        {predictions.map((prediction, index) => (
                          <tr key={index} className="hover:bg-gray-50">
                            <td className="py-3 px-4 font-medium">{prediction.ticker}</td>
                            <td className="py-3 px-4">${prediction.currentPrice.toFixed(2)}</td>
                            <td className="py-3 px-4">${prediction.predictedPrice.toFixed(2)}</td>
                            <td className={`py-3 px-4 font-medium ${getPercentChangeColor(prediction.percentChange)}`}>
                              {prediction.percentChange >= 0 ? '+' : ''}{prediction.percentChange.toFixed(2)}%
                            </td>
                            <td className="py-3 px-4">{prediction.timeframe}</td>
                            <td className="py-3 px-4">
                              <div className="flex items-center">
                                <div className="w-16 bg-gray-200 rounded-full h-2.5 mr-2">
                                  <div 
                                    className="bg-indigo-600 h-2.5 rounded-full" 
                                    style={{ width: `${prediction.confidence}%` }}
                                  ></div>
                                </div>
                                <span>{prediction.confidence}%</span>
                              </div>
                            </td>
                            <td className="py-3 px-4">
                              <span className={`px-2 py-1 rounded-full text-xs font-medium ${getRecommendationColor(prediction.recommendation)}`}>
                                {prediction.recommendation}
                              </span>
                            </td>
                          </tr>
                        ))}
                      </tbody>
                    </table>
                  </div>
                )}
                
                <div className="mt-6 text-sm text-gray-500 text-center">
                  <p>Last updated: June 1, 2023 | For research purposes only. Not financial advice.</p>
                </div>
              </div>
            </section>
          </main>
          
          <Footer />
        </div>
      );
    }
    
    ReactDOM.render(<PredictionsPage />, document.getElementById('root'));
  </script>
</body>
</html>
